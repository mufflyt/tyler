% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sanity_checks.R
\name{tyler_check_api_response}
\alias{tyler_check_api_response}
\title{Validate API response row count matches expectation}
\usage{
tyler_check_api_response(result, expected, api_name = "API", tolerance = 0)
}
\arguments{
\item{result}{API response data frame}

\item{expected}{Expected number of rows (e.g., number of queries sent)}

\item{api_name}{Name of API for error messages}

\item{tolerance}{Acceptable difference between expected and actual.
Defaults to 0 (exact match required).}
}
\value{
Invisible TRUE if within tolerance, errors otherwise
}
\description{
Helper to catch silent API failures that return empty or partial results.
Use after any API call where you expect a specific number of results.
}
\examples{
\dontrun{
# Expect exactly 100 geocoding results
coords <- geocode(addresses)
tyler_check_api_response(coords, expected = 100, api_name = "Google Geocoding")

# Allow up to 5\% missing
coords <- geocode(addresses)
tyler_check_api_response(coords, expected = 100, api_name = "Google Geocoding",
                        tolerance = 5)
}

}
