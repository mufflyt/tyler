% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summarize_census_data.R
\name{census_summaries}
\alias{census_summaries}
\alias{summarize_census_data}
\alias{plot_census_age_distribution}
\title{Summarize Census Block Group Demographics}
\description{These helpers aggregate American Community Survey (ACS) estimates returned by \code{\link{get_census_data}} to produce tidy summary tables and visualizations. They focus on the sex-by-age table (B01001) so that analysts can quickly spot the distribution of female populations across block groups or higher-level geographies.}
\usage{
summarize_census_data(
  census_df,
  group_vars = "statefp",
  reproductive_age_vars = sprintf("B01001_\%03dE", 30:38)
)

plot_census_age_distribution(
  census_df,
  group_var = NULL,
  output_dir = NULL,
  file_prefix = "census_age_distribution",
  dpi = 600,
  verbose = TRUE
)
}
\arguments{
\item{census_df}{A data frame produced by \code{get_census_data()} (or another table containing equivalent columns).}

\item{group_vars}{Character vector of column names used to group the summaries. Defaults to \code{"statefp"}. Supply \code{character(0)} to receive a single summary row for the entire dataset.}

\item{reproductive_age_vars}{Character vector of female age estimate columns that should be treated as reproductive-age (defaults to \code{B01001_030E:B01001_038E}, representing 15 to 44 years).}

\item{group_var}{Optional single column name used to facet the distribution. When supplied, stacked bars are produced for each value of \code{group_var}. Set to \code{NULL} (the default) to visualise the aggregate distribution across all rows in \code{census_df}.}

\item{output_dir}{Directory where image files should be written. Defaults to a session-specific directory from \code{tyler_tempdir()}.}

\item{file_prefix}{Prefix used when writing plot files. Defaults to \code{"census_age_distribution"}.}

\item{dpi}{Resolution used when saving the plots (defaults to 600 DPI).}

\item{verbose}{When \code{TRUE}, prints the output file paths after saving.}
}
\value{\code{summarize_census_data()} returns a tibble containing one row per grouping with population totals and shares. \code{plot_census_age_distribution()} invisibly returns the generated ggplot object.}
\examples{
census_example <- tibble::tibble(
  statefp = c("01", "01", "02"),
  countyfp = c("001", "001", "013"),
  geoid = c("010010201001", "010010201002", "020130001001"),
  B01001_001E = c(1200, 1300, 900),
  B01001_002E = c(560, 610, 420),
  B01001_026E = c(640, 690, 480),
  B01001_030E = c(45, 47, 32),
  B01001_031E = c(40, 41, 28),
  B01001_032E = c(35, 36, 22),
  B01001_033E = c(30, 32, 20),
  B01001_034E = c(55, 58, 38),
  B01001_035E = c(60, 63, 40),
  B01001_036E = c(62, 64, 42),
  B01001_037E = c(58, 60, 39),
  B01001_038E = c(56, 57, 37)
)

summarize_census_data(census_example, group_vars = c("statefp"))

plot_census_age_distribution(census_example, group_var = "statefp", verbose = FALSE)
}
