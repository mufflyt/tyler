<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Searching the NPI Database Starting with Taxonomy Codes • tyler</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Searching the NPI Database Starting with Taxonomy Codes">
<meta name="description" content="A comprehensive guide with examples on searching the NPI Database using taxonomy codes.
">
<meta property="og:description" content="A comprehensive guide with examples on searching the NPI Database using taxonomy codes.
">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tyler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>TRUE</h6></li>
    <li><a class="dropdown-item" href="../articles/create_isochrones.html">Gathering Drive Time Isochrones</a></li>
    <li><a class="dropdown-item" href="../articles/geocode.html">Geocoding</a></li>
    <li><a class="dropdown-item" href="../articles/get_census_data.html">Getting Data from the US Census Bureau for Isochrones</a></li>
    <li><a class="dropdown-item" href="../articles/imotive-news.html">Imotive News &amp; Changelog</a></li>
    <li><a class="dropdown-item" href="../articles/my-vignette.html">Searching the NPI Database Starting with Taxonomy Codes</a></li>
    <li><a class="dropdown-item" href="../articles/search_and_process_npi.html">Search and Process NPI Numbers</a></li>
    <li><a class="dropdown-item" href="../articles/aggregating_provider_data.html">Aggregating Provider Data for Analysis</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html#datasets">Datasets</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mufflyt/tyler/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">


<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Searching the NPI Database Starting with Taxonomy Codes</h1>
                        <h4 data-toc-skip class="author">Tyler Muffly,
MD</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mufflyt/tyler/blob/HEAD/vignettes/my-vignette.Rmd" class="external-link"><code>vignettes/my-vignette.Rmd</code></a></small>
      <div class="d-none name"><code>my-vignette.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code><a href="../reference/taxonomy.html">tyler::taxonomy</a></code> data and
<code><a href="../reference/search_by_taxonomy.html">tyler::search_by_taxonomy</a></code> function in the R package offers
a convenient and efficient way to query the NPI Database for healthcare
providers based on their taxonomy descriptions. This vignette provides a
comprehensive guide on how to effectively utilize this function,
explores its various capabilities, and offers illustrative use
cases.</p>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>Before you can harness the power of the
<code>search_by_taxonomy</code> function, it is essential to ensure that
you have the <code>tyler</code> package installed. You can effortlessly
install it using the following command:</p>
</div>
</div>
<div class="section level2">
<h2 id="example-usage">Example Usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h2>
<div class="section level3">
<h3 id="understanding-taxonomy-descriptions">Understanding Taxonomy Descriptions<a class="anchor" aria-label="anchor" href="#understanding-taxonomy-descriptions"></a>
</h3>
<p>Taxonomy descriptions, derived from the National Physician Taxonomy
Codes and the NPPES (National Plan and Provider Enumeration System)
database, are fundamental components of the United States healthcare
system. They play a pivotal role in the identification and
categorization of healthcare providers for various purposes, including
billing, insurance, and regulatory compliance.</p>
<p>In particular, the <code><a href="../reference/taxonomy.html">tyler::taxonomy</a></code> data frame contains
NUCC taxonomy codes utilized in NPPES data files. Each Taxonomy Code
comprises a unique ten-character identifier that aids in the
identification of healthcare provider types and their areas of
expertise. Notably, the OBGYN taxonomy codes are sourced from Version
23.1 dated July 1, 2023.</p>
<p>Taxonomy codes can be obtained from the National Uniform Claim
Committee (NUCC) website here. You can employ these codes to pinpoint
specific taxonomy descriptions for your search. For instance, if you are
interested in finding taxonomy codes that include the string
<code>"GYN"</code> you can use this code to facilitate your search in
the search_by_taxonomy function.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obgyn_taxonomy</span> <span class="op">&lt;-</span> <span class="fu">tyler</span><span class="fu">::</span><span class="va"><a href="../reference/taxonomy.html">taxonomy</a></span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">str_detect</span><span class="op">(</span><span class="va">`Classification`</span>, <span class="fu">fixed</span><span class="op">(</span><span class="st">"GYN"</span>, ignore_case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">Code</span>, <span class="va">Specialization</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>Code       Specialization                                   </span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>      <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                            </span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a> <span class="dv">1</span> <span class="dv">207</span>V00000X <span class="cn">NA</span>                                               </span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a> <span class="dv">2</span> <span class="dv">207</span>VC0300X Complex Family Planning                          </span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a> <span class="dv">3</span> <span class="dv">207</span>VC0200X Critical Care Medicine                           </span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a> <span class="dv">4</span> <span class="dv">207</span>VF0040X Female Pelvic Medicine and Reconstructive Surgery</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a> <span class="dv">5</span> <span class="dv">207</span>VX0201X Gynecologic Oncology                             </span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a> <span class="dv">6</span> <span class="dv">207</span>VG0400X Gynecology                                       </span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a> <span class="dv">7</span> <span class="dv">207</span>VH0002X Hospice and Palliative Medicine                  </span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a> <span class="dv">8</span> <span class="dv">207</span>VM0101X Maternal <span class="sc">&amp;</span> Fetal Medicine                        </span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a> <span class="dv">9</span> <span class="dv">207</span>VB0002X Obesity Medicine                                 </span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="dv">10</span> <span class="dv">207</span>VX0000X Obstetrics                                       </span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="dv">11</span> <span class="dv">207</span>VE0102X Reproductive Endocrinology </span></code></pre></div>
</div>
<div class="section level3">
<h3 id="search-by-taxonomy-description">Search by Taxonomy Description<a class="anchor" aria-label="anchor" href="#search-by-taxonomy-description"></a>
</h3>
<p>The <code>search_by_taxonomy</code> function excels at searching the
NPI Database for healthcare providers based on taxonomy descriptions.
This functionality proves invaluable when verifying external data
regarding subspecialist provider counts and filling in gaps for
providers who may not be board-certified but are actively practicing
(board-eligible). This data can be seamlessly integrated with other
databases, enhancing its utility. For internal use, you can refer to
<code>"Exploratory/Workforce/subspecialists_only"</code>. One
significant advantage is that all search results include a National
Provider Identifier (NPI).</p>
</div>
<div class="section level3">
<h3 id="example-usage-1">Example Usage<a class="anchor" aria-label="anchor" href="#example-usage-1"></a>
</h3>
<p>In this illustrative example, we employ the
<code>search_by_taxonomy</code> function to identify healthcare
providers specializing in “Hospice and Palliative Medicine” based on
taxonomy descriptions. The resulting output is a dataframe containing
information about physicians with either an MD or DO qualification,
practicing in the United States as individuals, and self-identifying
with a taxonomy of “Hospice and Palliative Medicine.”</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Search for providers based on taxonomy descriptions</span></span>
<span><span class="va">taxonomy_descriptions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Hospice and Palliative Medicine"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_by_taxonomy.html">search_by_taxonomy</a></span><span class="op">(</span>taxonomy_to_search <span class="op">=</span> <span class="va">taxonomy_descriptions</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">basic_gender</span>, <span class="va">basic_credential</span><span class="op">)</span></span></code></pre></div>
<p>You can easily summarise the resulting data frame in a user-friendly
format.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Summarise the resulting data frame by state</span></span>
<span><span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">addresses_state</span><span class="op">)</span></span></code></pre></div>
<p>We will often need to merge the rows from the
<code>search_taxonomy</code> data and the <code>get_clinicians</code>
data. These are the steps needed to make the structure and names similar
to the <code>get_clinicians</code> data.</p>
<pre><code><span><span class="va">all_taxonomy_search_data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="va">npi</span>, .keep_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="co"># Keep only the OBGYN subspecialist taxonomy descriptions.  </span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">taxonomies_desc</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Obstetrics &amp; Gynecology, Female Pelvic Medicine and Reconstructive Surgery"</span>, <span class="st">"Obstetrics &amp; Gynecology, Gynecologic Oncology"</span>, <span class="st">"Obstetrics &amp; Gynecology, Maternal &amp; Fetal Medicine"</span>, <span class="st">"Obstetrics &amp; Gynecology, Reproductive Endocrinology"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="co"># Extract the first five of the zip code.  </span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>addresses_postal_code <span class="op">=</span> <span class="fu">str_sub</span><span class="op">(</span><span class="va">addresses_postal_code</span>,<span class="fl">1</span> ,<span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>basic_enumeration_date <span class="op">=</span> <span class="fu">ymd</span><span class="op">(</span><span class="va">basic_enumeration_date</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="co"># Pull the year out of the enumeration full data.  </span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>basic_enumeration_date_year <span class="op">=</span> <span class="fu">year</span><span class="op">(</span><span class="va">basic_enumeration_date</span><span class="op">)</span>, .after <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="st">"basic_enumeration_date"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>, <span class="st">"basic_enumeration_date"</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">last_col</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>basic_middle_name <span class="op">=</span> <span class="fu">str_sub</span><span class="op">(</span><span class="va">basic_middle_name</span>,<span class="fl">1</span> ,<span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">basic_first_name</span>, <span class="va">basic_last_name</span>, <span class="va">basic_middle_name</span><span class="op">)</span>, .fns <span class="op">=</span> <span class="op">~</span><span class="fu">str_remove_all</span><span class="op">(</span><span class="va">.</span>, <span class="st">"[[\\p{P}][\\p{S}]]"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="co"># Get data ready to add these taxonomy rows to the `search_and_process_npi`/GOBA data set.</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>NPI <span class="op">=</span> <span class="va">npi</span>, first_name <span class="op">=</span> <span class="va">basic_first_name</span>, last_name <span class="op">=</span> <span class="va">basic_last_name</span>, middle_name <span class="op">=</span> <span class="va">basic_middle_name</span>, GenderPhysicianCompare <span class="op">=</span> <span class="va">basic_gender</span>, sub1 <span class="op">=</span> <span class="va">taxonomies_desc</span>, city <span class="op">=</span> <span class="va">addresses_city</span>, state <span class="op">=</span> <span class="va">addresses_state</span>, name.x <span class="op">=</span> <span class="va">full_name</span>, `Zip CodePhysicianCompare` <span class="op">=</span> <span class="va">addresses_postal_code</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>GenderPhysicianCompare <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/recode.html" class="external-link">recode</a></span><span class="op">(</span><span class="va">GenderPhysicianCompare</span>, <span class="st">"F"</span> <span class="op">=</span> <span class="st">"Female"</span>, <span class="st">"M"</span> <span class="op">=</span> <span class="st">"Male"</span>, type_convert <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="co"># Show the subspecialty from goba.  </span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>sub1 <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/recode.html" class="external-link">recode</a></span><span class="op">(</span><span class="va">sub1</span>, <span class="st">"Obstetrics &amp; Gynecology, Female Pelvic Medicine and Reconstructive Surgery"</span> <span class="op">=</span> <span class="st">"FPM"</span>, <span class="st">"Obstetrics &amp; Gynecology, Gynecologic Oncology"</span> <span class="op">=</span> <span class="st">"ONC"</span>, <span class="st">"Obstetrics &amp; Gynecology, Maternal &amp; Fetal Medicine"</span> <span class="op">=</span> <span class="st">"MFM"</span>, <span class="st">"Obstetrics &amp; Gynecology, Reproductive Endocrinology"</span> <span class="op">=</span> <span class="st">"REI"</span>, type_convert <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="function-details">Function Details<a class="anchor" aria-label="anchor" href="#function-details"></a>
</h3>
<div class="section level4">
<h4 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a>
</h4>
<p><code>taxonomy_to_search</code>: A character vector that should
contain the desired taxonomy description(s) to be used as search
criteria.</p>
</div>
<div class="section level4">
<h4 id="output">Output<a class="anchor" aria-label="anchor" href="#output"></a>
</h4>
<p>The function returns a data frame that has been filtered to include
NPI data matching the specified taxonomy description(s).</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The <code>search_by_taxonomy</code> function stands as a wrapper for
exploring the NPI Database through taxonomy descriptions. It empowers
users to identify healthcare providers with precise specializations,
rendering it a resource for healthcare-related research and in-depth
analysis.</p>
</div>
<div class="section level2">
<h2 id="features-and-bugs">Features and bugs<a class="anchor" aria-label="anchor" href="#features-and-bugs"></a>
</h2>
<p>If you have ideas for other features that would make name handling
easier, or find a bug, the best approach is to either report it or add
it!</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tyler Muffly.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
